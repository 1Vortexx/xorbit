<!DOCTYPE html>
<html lang="en">
<head>
  <link rel="icon" href="https://i.imgur.com/qHvnYKc.png" type="image/png">
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>X-ORBIT</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet"/>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css"/>
  <script src="https://unpkg.com/@supabase/supabase-js"></script>
  <style>
    * { box-sizing: border-box; margin: 0; padding: 0; }
    body { font-family: 'Inter', sans-serif; background: linear-gradient(135deg, #10121d, #1a1c2c); color: #d3dcff; height: 100vh; overflow: hidden; display: flex; flex-direction: column; }
    .topbar { height: 64px; background: rgba(60, 80, 255, 0.2); backdrop-filter: blur(12px); display: flex; align-items: center; padding: 0 30px; font-weight: 600; font-size: 1.2rem; color: #ffffff; border-bottom: 1px solid rgba(255,255,255,0.1); }
    .topbar img { height: 40px; border-radius: 12px; margin-right: 20px; box-shadow: 0 2px 10px rgba(100, 150, 255, 0.5); }
    .hamburger, .notifications { font-size: 1.8rem; cursor: pointer; color: #ffffff; display: flex; align-items: center; }
    .notifications { margin-left: auto; }
    .hamburger { margin-left: 10px; }
    .container { display: flex; flex-grow: 1; overflow: hidden; }
    .sidebar { width: 280px; background: linear-gradient(180deg, rgba(0, 170, 255, 0.2), rgba(112, 56, 255, 0.2)); backdrop-filter: blur(14px); padding: 30px 15px; display: flex; flex-direction: column; gap: 16px; color: #e3e7ff; font-weight: 600; user-select: none; overflow-y: auto; max-height: calc(100vh - 64px); border-right: 1px solid rgba(255,255,255,0.1); }
    .sidebar a { color: #e0e5ff; text-decoration: none; padding: 14px 18px; border-radius: 28px; display: flex; align-items: center; gap: 14px; font-size: 1rem; transition: all 0.3s ease; }
    .sidebar a:hover, .sidebar a.active { background: rgba(112, 56, 255, 0.3); color: #ffffff; box-shadow: 0 4px 10px rgba(112, 56, 255, 0.4), 0 4px 20px rgba(0, 234, 255, 0.4); }
    .main-content { flex-grow: 1; background: linear-gradient(135deg, #12131d, #191b2e); overflow: hidden; display: flex; flex-direction: column; }
    iframe { border: none; width: 100%; height: 100%; background-color: transparent; }
    #welcomeOverlay { position: fixed; z-index: 9999; top: 0; left: 0; height: 100vh; width: 100vw; background: rgba(14, 15, 26, 0.9); backdrop-filter: blur(10px); display: flex; align-items: center; justify-content: center; }
    #welcomeOverlay iframe { width: 100%; height: 100%; border: none; }
    #loginBox { background: #1a1c2c; padding: 40px; border-radius: 12px; display: flex; flex-direction: column; gap: 16px; width: 320px; text-align: center; box-shadow: 0 0 20px rgba(0, 234, 255, 0.3); }
    #loginBox input { padding: 12px; border-radius: 8px; border: none; background: #12131d; color: #d3dcff; font-size: 1rem; }
    #loginBox button { padding: 12px; border-radius: 8px; border: none; background: #3860ff; color: #fff; cursor: pointer; font-size: 1rem; font-weight: 600; }
    #loginError { color: #ff5959; display: none; font-size: 0.9rem; }
    #pageNotification { position: fixed; top: 64px; left: 50%; transform: translateX(-50%); background: rgba(60, 80, 255, 0.85); backdrop-filter: blur(10px); color: white; padding: 12px 24px; border-radius: 12px; box-shadow: 0 0 15px rgba(60, 80, 255, 0.5); font-weight: 600; font-size: 1rem; z-index: 11000; opacity: 0; pointer-events: none; transition: opacity 0.3s ease; display: flex; align-items: center; gap: 16px; max-width: 90vw; user-select: none; }
    #pageNotification.show { opacity: 1; pointer-events: auto; }
    #closeNotificationBtn { background: none; border: none; color: white; font-size: 1.2rem; cursor: pointer; padding: 0; line-height: 1; font-weight: 900; }
    @media (max-width: 768px) { .container { flex-direction: column; } .main-content { height: calc(100vh - 64px); } .sidebar { position: absolute; top: 64px; left: 0; height: calc(100vh - 64px); transform: translateX(-100%); z-index: 1000; } .sidebar.open { transform: translateX(0); } }
  </style>
</head>
<body>

<!-- ðŸ”’ Login Overlay -->
<div id="welcomeOverlay">
  <iframe id="authFrame" src="auth.html"></iframe>
</div>

<!-- Notification popup -->
<div id="pageNotification" role="alert" aria-live="assertive">
  <span>ðŸš¨ Important: By using this webpage, and our services, you agree to our <a href="tos.html">Terms Of Service</a>, and our <a href="privacy-policy.html">Privacy Policy</a>.</span>
  <button id="closeNotificationBtn" aria-label="Close notification">&times;</button>
</div>

<div class="topbar">
  <img src="https://codehs.com/uploads/7a0d6dd135184f5ac5937226a64294c0" alt="DevSolutions Logo" />
  X-ORBIT Browser
  <div class="notifications"><i class="fas fa-bell"></i></div>
  <div class="hamburger"><i class="fas fa-bars"></i></div>
</div>

<div class="container">
  <nav id="sidebarMenu" class="sidebar">
    <a href="#" class="active" onclick="loadPage('render.html', this)"><i class="fas fa-play"></i><span>Home</span></a>
    <a href="#" onclick="loadPage('browser.html', this)"><i class="fas fa-globe"></i><span>Browser</span></a>
    <a href="#" onclick="loadPage('privacy-policy.html', this)"><i class="fas fa-shield-alt"></i><span>Privacy Policy</span></a>
    <a href="#" onclick="loadPage('tos.html', this)"><i class="fas fa-file-contract"></i><span>Terms of Service</span></a>
    <a href="#" onclick="loadPage('pricing.html', this)"><i class="fas fa-tags"></i><span>Pricing</span></a>
    <a href="#" onclick="loadPage('team.html', this)"><i class="fas fa-users"></i><span>Team</span></a>
    <a href="#" onclick="loadPage('support.html', this)"><i class="fas fa-headset"></i><span>Support</span></a>
    <a href="#" onclick="loadPage('changelogs.html', this)"><i class="fas fa-list-alt"></i><span>Changelog</span></a>
    <a href="#" onclick="loadPage('settings.html', this)"><i class="fas fa-cog"></i><span>Settings</span></a>
    <a href="#" onclick="loadPage('credits.html', this)"><i class="fas fa-heart"></i><span>Credits</span></a>
    <a href="index.html" onclick="window.location.href='index.html'; location.reload(); return false;">
  <i class="fa-solid fa-right-from-bracket"></i>
  <span>Logout</span>
</a>
  </nav>
  <main class="main-content">
    <iframe id="contentFrame" src="render.html"></iframe>
  </main>
</div>

<script>
  const overlay = document.getElementById("welcomeOverlay");
  const iframe = document.getElementById('contentFrame');
  const hamburger = document.querySelector('.hamburger');
  const sidebar = document.getElementById('sidebarMenu');
  const notificationBtn = document.querySelector('.notifications');

  // Sidebar toggle
  hamburger.addEventListener('click', () => sidebar.classList.toggle('open'));

  // Page loading function
  function loadPage(page, linkElement) {
    iframe.src = page;
    document.querySelectorAll('.sidebar a').forEach(a => a.classList.remove('active'));
    if (linkElement) linkElement.classList.add('active');
    sidebar.classList.remove('open');
  }

  // Notifications toggle
  let notificationVisible = false;
  notificationBtn.addEventListener('click', () => {
    iframe.src = notificationVisible ? 'render.html' : 'notifications.html';
    document.querySelectorAll('.sidebar a').forEach(a => a.classList.remove('active'));
    notificationVisible = !notificationVisible;
  });

  // Listen for auth success from iframe
  window.addEventListener('message', (event) => {
    if (event.data === 'auth-success') {
      overlay.style.display = 'none';
    }
  });

  // Show notification on first load
  window.addEventListener('load', () => {
    const notification = document.getElementById('pageNotification');
    const closeBtn = document.getElementById('closeNotificationBtn');
    const storageKey = 'notificationShown';
    if (!localStorage.getItem(storageKey)) {
      if (notification) notification.classList.add('show');
      if (closeBtn) closeBtn.addEventListener('click', () => notification.classList.remove('show'));
      localStorage.setItem(storageKey, 'true');
    }
  });
</script>
</body>
</html>
